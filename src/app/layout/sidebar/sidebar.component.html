<aside class="flex h-screen w-60 flex-col border-r bg-white">
  <!-- 1️⃣ Logo / App Name -->
  <div class="flex h-14 items-center border-b px-4 text-lg font-semibold">MyApp</div>

  <!-- 2️⃣ Navigation (scrollable) -->
  <div class="flex-1 overflow-y-auto px-1 py-3">
    <p-panelMenu [model]="items" class="w-full border-none p-0">
      <ng-template #item let-item>
        <a pRipple class="flex w-full items-center gap-2 rounded-md px-3 py-2 hover:bg-gray-100">
          <!-- Left icon -->
          <i *ngIf="item.icon" [class]="item.icon + ' text-gray-500'"></i>

          <!-- Label -->
          <span class="text-sm">
            {{ item.label }}
          </span>

          <!-- Spacer pushes chevron to right -->
          <span class="flex-1"></span>

          <!-- Right-side chevron -->
          <i
            *ngIf="item.items?.length"
            class="pi text-xs text-gray-400 transition-transform duration-200"
            [ngClass]="{
              'pi-chevron-down': item.expanded,
              'pi-chevron-right': !item.expanded,
            }"
          ></i>
        </a>
      </ng-template>
    </p-panelMenu>
  </div>

  <!-- 3️⃣ User section (fixed bottom) -->
  <div class="relative border-t p-3">
    <button
      type="button"
      class="flex w-full items-center gap-3 rounded-md px-2 py-2 hover:bg-gray-100"
      (click)="toggleUserMenu($event)"
    >
      <img src="https://i.pravatar.cc/32" alt="User" class="h-8 w-8 rounded-full" />

      <div class="flex flex-1 flex-col text-left">
        <span class="text-sm font-medium">John Doe</span>
        <span class="text-xs text-gray-500">Administrator</span>
      </div>

      <!-- Chevron on the right -->
      <i
        class="pi text-xs text-gray-400 transition-transform duration-200"
        [ngClass]="{
          'pi-chevron-down': isUserMenuOpen,
          'pi-chevron-up': !isUserMenuOpen,
        }"
      ></i>
    </button>

    <!-- PrimeNG menu -->
    <p-menu
      #userMenu
      [model]="userMenuItems"
      [popup]="true"
      appendTo="body"
      (onShow)="isUserMenuOpen = true"
      (onHide)="isUserMenuOpen = false"
    ></p-menu>
  </div>
</aside>
